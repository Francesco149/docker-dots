#!/bin/sh

case "$1" in
  *.mp4|*.avi|*.mkv|*.jpg|*.gif|*.png)
    mpv "$1" || qutebrowser "$1" ;;
  https://www.youtube.com/*|https://youtube.com/*|https://youtu.be/*|\
  https://streamable.com/*|https://twitch.tv/*|https://*.twitch.tv/*)
    streamlink "$1" 720p ||
    streamlink "$1" 1080p ||
    streamlink "$1" best ||
    qutebrowser "$1" ;;
  *) qutebrowser "$1" ;;
esac
